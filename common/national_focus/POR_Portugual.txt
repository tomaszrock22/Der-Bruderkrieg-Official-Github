### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}


#Designed by Chowder, any questions/comments, my Discord is Andrew+#1439

focus_tree = {
	id = portugual_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = POR
		}
	}

	default = no
	continuous_focus_position = { x = 50 y = 1300}


# Colonial Tree Here XD

#Focus for Colonial Army
	focus = {
		id = POR_colonial_army
		icon = GFX_focus_generic_little_entente
		x = 3
		y = 1
		cost = 5
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = POR_colonial_army
		}
	}


#Focus for Colonial Construction Bureau
	focus = {
		id = POR_colonial_construction_bureau
		icon = GFX_goal_generic_construct_civ_factory
		x = 3
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_colonial_army 
		}
		prerequisite = { 
			focus = POR_extraction_studies 
		}
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = POR_colonial_construction_bureau

			PAF = {
				add_ideas = POR_colonial_construction_bureau
			}
		}
	}


	#Focus for Mozambique Development
	focus = {
		id = POR_mozambique_development
		available = {
			OR = {
				has_full_control_of_state = 544
				544 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}
		icon = GFX_focus_generic_africa_factory
		x = 1
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_colonial_construction_bureau }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			544 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base
					level = 2
					province = 2123				
					instant_build = yes
				}
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}
	}


	#Focus for Development in Guinea
	focus = {
		id = POR_development_in_guinea
		available = {
			OR = {
				has_full_control_of_state = 296
				296 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}
		icon = GFX_focus_generic_rubber
		x = 1
		y = 7
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_mozambique_development }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {

			296 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1
				add_resource = {
					type = rubber
					amount = 5
				}
			}
		} 
	}


	#Focus for Infrastructure in Angola
	focus = {
		id = POR_infrastructure_in_angola
		available = {	
			OR = {
				has_full_control_of_state = 796
				796 = {
					owner = { is_subject_of = ROOT }
				}
			}					
		}
		icon = GFX_focus_generic_africa_infrastructure
		x = 3
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_colonial_construction_bureau }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 

			796 = {		
				
				add_building_construction = {
					type = naval_base
					level = 2
					province = 2115
					instant_build = yes
				}	

				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1	
			}

			540 = {		

				add_building_construction = {
					type = naval_base
					level = 3
					province = 8248
					instant_build = yes
				}	

				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1					
			}				
		}
	}


	#Focus for North Angolan Prospects
	focus = {
		id = POR_north_angolan_prospects
		available = {
			OR = {
				has_full_control_of_state = 796
				796 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}
		icon = GFX_focus_generic_africa_naval
		x = 5
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_colonial_construction_bureau }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			796 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_resource = {
					type = steel
					amount = 8
				}
				add_resource = {
					type = oil
					amount = 12
				}
			}
		}
	}


	#Focus for South Angolan Prospects
	focus = {
		id = POR_south_angolan_prospects
		available = {
			OR = {
				has_full_control_of_state = 540
				540 = {
					owner = { is_subject_of = ROOT }
				}
			}
		}
		icon = GFX_focus_generic_africa_production
		x = 5
		y = 7
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_north_angolan_prospects }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			540 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base
					level = 2
					province = 8248
					instant_build = yes
				}

				add_resource = {
					type = steel
					amount = 8
				}

				add_resource = {
					type = rubber
					amount = 4
				}
			}
		}
	}


	#Focus for Full Colonial Integration Cores
	focus = {
		id = POR_full_colonial_integration
		icon = GFX_focus_por_luso_tropicalism
		x = 3
		y = 8
		cost = 15
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_south_angolan_prospects 
		}
		prerequisite = { 
			focus = POR_development_in_guinea 
		}
		prerequisite = { 
			focus = POR_infrastructure_in_angola 
		}
		search_filters = { FOCUS_FILTER_MANPOWER } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_state_core = 544
			add_state_core = 540
			add_state_core = 796
			add_state_core = 296
		}
	}
	


#Industry Tree Main



	#Focus for Kick-Start The Industry
	focus = {
		id = POR_kickstart_the_industry
		available = {
			OR = {
				has_full_control_of_state = 180 #PORTO
				has_full_control_of_state = 181 #GUARDA
				has_full_control_of_state = 795 #SANTAREM
				has_full_control_of_state = 179 #BEJA
				has_full_control_of_state = 112 #LISBON
			}
		}
		icon = GFX_focus_generic_industry_2
		x = 15
		y = 1
		cost = 10
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {			
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}	
			
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}			
				}
			}

			add_ideas = POR_improved_production
		}
	}


	#Focus for Expand The Universidade do Lisboa
	focus = {
		id = POR_expand_the_universidade_do_lisboa
		icon = GFX_focus_research2
		x = 12
		y = 2
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_kickstart_the_industry }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_research_slot= 1
		}
	}



	#Focus for Industrial Efficiency
	focus = {
		id = POR_industrial_efficiency
		icon = GFX_goal_generic_construct_civ_factory
		x = 16
		y = 3
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_expand_the_universidade_do_lisboa }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 2
				category = industry
			}
			181 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	#Focus for Heavy Industry
	focus = {
		id = POR_heavy_industry
		icon = GFX_focus_generic_tank_production
		available = {
			controls_state  = 112
		}
		x = 16
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_industrial_efficiency }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			112 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 2
			}
			112 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1
			}
		}
	}


	#Focus for Economic Development Scheme
	focus = {
		id = POR_economic_development_scheme
		icon = GFX_goal_generic_construct_civilian
		available = {
			controls_state  = 179
		}
		x = 18
		y = 2
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_kickstart_the_industry }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			179 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 2
			}
		}
	}

	#Focus for Indústria de Remilitarização e Defesa
	focus = {
		id = POR_indstria_de_remilitarizao_e_defesa
		icon = GFX_goal_generic_construct_mil_factory
		available = {
			controls_state  = 180
		}
		x = 18
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_economic_development_scheme }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			180 = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 2
			}
		}
	}


#Infrastructure Industry


	#Focus for Rebuilding The Infrastructure
	focus = {
		id = POR_rebuilding_the_infrastructure
		available = {	
			OR = {
				has_full_control_of_state = 181 #GUARDA
				has_full_control_of_state = 795 #SANTAREM
				has_full_control_of_state = 179 #BEJA
				has_full_control_of_state = 180 #PORTO
				has_full_control_of_state = 112 #LISBON
			}			
		}
		icon = GFX_goal_generic_construct_infrastructure
		x = 5
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_expand_the_universidade_do_lisboa }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}	
			}

			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						province = 9817					
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}

					add_building_construction = {
						type = industrial_complex
						level = 1	
						instant_build = yes
					}				
				}
			}
		}
	}


	#Focus for Extraction Studies
	focus = {
		id = POR_extraction_studies
		available = {
			OR = {
				has_full_control_of_state = 112
				has_full_control_of_state = 795
			}			
		}
		icon = GFX_goal_generic_construction2
		x = 5
		y = 4
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_rebuilding_the_infrastructure }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 112 }	
				unlock_decision_tooltip = POR_develop_lisbon_tungsten_deposits
			}
			if = {
				limit = { has_full_control_of_state = 795 }
				unlock_decision_tooltip = POR_develop_santarem_chromium_deposits
			}			
		}
	}
	

	#Focus for Hydroelectricity
	focus = {
		id = POR_hydroelectricity
		available = {
			OR = {
				has_full_control_of_state = 180 #PORTO
				has_full_control_of_state = 181 #GUARDA
				has_full_control_of_state = 179 #BEJA
				has_full_control_of_state = 112 #LISBON
			}			
		}
		icon = GFX_goal_generic_construction2
		x = 5
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_extraction_studies }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_ideas = POR_hydroelectric_power
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}			
					add_extra_state_shared_building_slots = 1	
				}
			}
		}
	}


	#OGME Tree

	#Focus for Oficinas Gerais de Material de Engenharia
	focus = {
		id = POR_oficinas_gerais_de_material_de_engenharia
		icon = GFX_goal_generic_air_production
		x = 10
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_expand_the_universidade_do_lisboa }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ogme
		}
	}


	#Focus for Military Vehicles
	focus = {
		id = POR_military_vehicles
		icon = GFX_goal_generic_army_motorized
		x = 10
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_oficinas_gerais_de_material_de_engenharia }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 			
			add_tech_bonus = {
				name = POR_military_vehicles
			    bonus = 1.0
			    uses = 1
			    category = motorized_equipment
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}	
		}
	}


	
	#Focus for Military Research Facilities
	focus = {
		id = POR_military_research_facilities
		icon = GFX_focus_research2
		x = 10
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_light_fighter_program 
			focus = POR_portuguese_artillery 
			focus = POR_military_vehicles 
		}
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_research_slot= 1
		}
	}


	#Focus for Portuguese Artillery
	focus = {
		id = POR_portuguese_artillery
		icon = GFX_goal_generic_army_artillery2
		x = 8
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_oficinas_gerais_de_material_de_engenharia }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_portuguese_artillery
			    bonus = 1.0
			    uses = 1
			    category = artillery
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}			
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = fma
		}
	}

	#Focus for Superior Firepower
	focus = {
		id = POR_superior_firepower
		icon = GFX_goal_generic_army_artillery2
		x = 8
		y = 5
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_portuguese_artillery }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_advanced_artillery
			    bonus = 1.0
			    uses = 2
			    category = artillery
			}

			add_tech_bonus = {
				name = POR_advanced_artillery
			    bonus = 1.0
			    uses = 1
			    category = land_doctrine
			    category = naval_doctrine
			    category = air_doctrine
			}
		}
	}


	#Focus for Regimento de Comandos
	focus = {
		id = POR_regimento_de_comandos
		icon = GFX_goal_generic_special_forces
		x = 8
		y = 6
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_superior_firepower }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = special_forces
			add_tech_bonus = {
				name = POR_regimento_de_comandos
				bonus = 1.0
				uses = 2
				technology = paratroopers
				technology = paratroopers2
				technology = marines
				technology = marines2
				technology = tech_mountaineers
				technology = tech_mountaineers2
			}
		}
	}


	#Focus for We Need Armor
	focus = {
		id = POR_we_need_armor
		icon = GFX_goal_generic_army_tanks
		x = 10
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_military_research_facilities }
		mutually_exclusive = { focus = POR_advanced_light_fighters }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 112 }	
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = POR_armor_focus
			    bonus = 1.0
			    uses = 1
			    category = armor
			}
		}
	}


	#Focus for Mechanizing Calvary
	focus = {
		id = POR_mechanizing_calvary
		icon = GFX_goal_generic_cavalry
		x = 10
		y = 7
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_we_need_armor }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_mechanized_focus
			    bonus = 2.0
			    uses = 2
			    category = cat_mechanized_equipment
			}
		}
	}


	#OGMA

	#Focus for Oficinas Gerais de Material Aeronáutico
	focus = {
		id = POR_oficinas_gerais_de_material_aeronutico
		icon = GFX_goal_generic_build_airforce
		x = 14
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_expand_the_universidade_do_lisboa }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ogma
		}
	}


	#Focus for Light Fighter Program
	focus = {
		id = POR_light_fighter_program
		icon = GFX_goal_generic_air_fighter2
		x = 14
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_oficinas_gerais_de_material_aeronutico }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_light_aircraft_focus
			    bonus = 1.0
			    uses = 1
			    category = light_air
			}
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			air_experience = 25
		}
	}

	#Focus for Advanced Light Fighters
	focus = {
		id = POR_advanced_light_fighters
		icon = GFX_goal_generic_air_fighter2
		x = 14
		y = 6
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_light_fighter_program }
		mutually_exclusive = { focus = POR_we_need_armor }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_advanced_light_aircraft
			    bonus = 1.0
			    uses = 1
			    category = light_air
			}
			air_experience = 50
			add_ideas = POR_advanced_light_aircraft
		}
	}


	#Focus for Jet Engine Technology
	focus = {
		id = POR_jet_engine_technology
		icon = GFX_goal_generic_air_bomber
		x = 14
		y = 7
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_advanced_light_fighters }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_jet_research
			    bonus = 1.0
			    uses = 1
			    category = jet_technology
			}
		}
	}


	#Focus for Cape Verde Airbase
	focus = {
		id = POR_cape_verde_airbase
		icon = GFX_focus_generic_cryptologic_bomb
		available = {
			controls_state = 702
		}
		x = 16
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_light_fighter_program }
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			702 = {
				add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
				}
				add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 4
						instant_build = yes
				}
			}
		}
	}


	#Focus for Boost Plane Production
	focus = {
		id = POR_boost_plane_production
		icon = GFX_goal_generic_air_production
		x = 18
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_indstria_de_remilitarizao_e_defesa }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Naval Bombers
	focus = {
		id = POR_naval_bombers
		icon = GFX_goal_poland_goal
		x = 17
		y = 6
		cost = 5
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_cape_verde_airbase 
		}
		prerequisite = { 
			focus = POR_boost_plane_production 
		}
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 2.0
				ahead_reduction = 2
				uses = 1
				category = naval_bomber
			}
		}
	}


	#Fortification Tree


	#Focus for Fortification Effort
	focus = {
		id = POR_fortification_effort
		icon = GFX_goal_generic_fortify_city
		x = 20
		y = 4
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_indstria_de_remilitarizao_e_defesa }
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = POR_fort_building
		}
	}

	#Focus for Atlantic Forts
	focus = {
		id = POR_atlantic_forts
		icon = GFX_focus_generic_coastal_fort
		x = 20
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_fortification_effort }
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			180 = {
				add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = no
						}
						level = 2
						instant_build = yes
				}
			}
			112 = {
				add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = no
						}
						level = 2
						instant_build = yes
				}
			}
			179 = {
				add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = no
						}
						level = 2
						instant_build = yes
				}
			}
		}
	}


	#Focus for Fortify The Azores
	focus = {
		id = POR_fortify_the_azores
		icon = GFX_goal_generic_amphibious_assault
		x = 20
		y = 6
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_atlantic_forts }
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			698 = {
				add_building_construction = {
						type = air_base
						level = 3
						instant_build = yes
				}
				add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 4
						instant_build = yes
				}
			}
		}
	}


	#Focus for The Iberian Border
	focus = {
		id = POR_the_iberian_border
		available = {
			OR = {
				has_full_control_of_state = 112
				has_full_control_of_state = 180
				has_full_control_of_state = 179
			}			
		}
		icon = GFX_goal_generic_position_armies
		x = 22
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_fortification_effort }
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
		#Add coastal fort to each port
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { #Lisbon
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					    level = 1
					    instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    level = 1
					    instant_build = yes
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = { #Beja
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    level = 1
					    instant_build = yes
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					}
				}
			}
		}
	}


	#Focus for Rebuild The Linhas de Torres Vedras
	focus = {
		id = POR_rebuild_the_linhas_de_torres_vedras
		available = {
			has_full_control_of_state = 112		
		}
		icon = GFX_focus_generic_home_defense
		x = 22
		y = 6
		cost = 2
		available_if_capitulated = yes
		prerequisite = { focus = POR_the_iberian_border }
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			112 = { #Lisbon
				add_building_construction = {
				    type = bunker
				    level = 3
				    instant_build = yes
				    province = {
				        all_provinces = yes
				        limit_to_border = yes
				    }
				}

				add_building_construction = {
				    type = coastal_bunker
				    level = 2
				    instant_build = yes	
				    province = 11805			    
				}
			}
		}
	}


	#Military Industrial Complex


	#Focus for Military Industrial Complex
	focus = {
		id = POR_military_industrial_complex
		icon = GFX_focus_generic_license_production
		available = {
		owns_state = 112
		owns_state = 180
		owns_state = 179
		}
		x = 12
		y = 8
		cost = 10
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_mechanizing_calvary 
			focus = POR_jet_engine_technology 
		}
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			112 = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 2
			}
			180 = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 2
			}
			179 = {
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 2
			}
		}
	}


	#Focus for Defense Research
	focus = {
		id = POR_defense_research
		icon = GFX_focus_research2
		x = 11
		y = 9
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_military_industrial_complex }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_research_slot= 1
		}
	}


	#Focus for Companhia União Fabril
	focus = {
		id = POR_companhia_unio_fabril
		icon = GFX_focus_generic_industry_1
		available = {
			owns_state = 112
		}
		x = 13
		y = 9
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_military_industrial_complex }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			112 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 2
			}
		}
	}


	#Spain intervention meme


	#Focus for Prepare Intervention in Spain
	focus = {
		id = POR_prepare_intervention_in_spain
		icon = GFX_goal_generic_forceful_treaty
		x = 27
		y = 6
		cost = 5
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = POR_prepare_intervention
		}
	}


	#Focus for Support The Nationalists
	focus = {
		id = POR_support_the_nationalists
		icon = GFX_focus_intervention_spain_nationalists
		x = 26
		y = 7
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_prepare_intervention_in_spain }
		mutually_exclusive = { focus = POR_support_the_carlists }
		search_filters = { FOCUS_FILTER_SPA_CIVIL_WAR } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			SPN = {
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_helped_in_civil_war
				}
				add_manpower = 10000
			}			
			add_ideas = POR_volunteers_in_the_war_nationalist
			add_manpower = -10000
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2000
				}
			}
			send_equipment = {
			    equipment = infantry_equipment
			    amount = 2000
			    target = SPN
			}
			set_rule = { can_send_volunteers = yes }
		}
	}


	#Focus for Support The Carlists
	focus = {
		id = POR_support_the_carlists
		icon = GFX_focus_spa_supremacy_of_the_communion
		x = 28
		y = 7
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_prepare_intervention_in_spain }
		mutually_exclusive = { focus = POR_support_the_nationalists }
		search_filters = { FOCUS_FILTER_SPA_CIVIL_WAR } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			SPR = {
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_helped_in_civil_war
				}
				add_manpower = 10000
			}			
			add_ideas = POR_volunteers_in_the_war_carlist
			add_manpower = -10000
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 2000
				}
			}
			send_equipment = {
			    equipment = infantry_equipment
			    amount = 2000
			    target = SPR
			}
			set_rule = { can_send_volunteers = yes }
		}
	}


	#Focus for Disavow The Treaty Of Badajoz
	focus = {
		id = POR_disavow_the_treaty_of_badajoz
		icon = GFX_goal_anti_comintern_pact
		x = 26
		y = 8
		cost = 5
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_support_the_nationalists 
			focus = POR_support_the_carlists 
		}
		mutually_exclusive = { focus = POR_commit_to_the_spanish_civil_war }
		search_filters = { FOCUS_FILTER_ANNEXATION } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_state_claim = 170
			add_state_claim = 169

			POR = {
				create_wargoal = {
					target = SPS
					type = take_claimed_state
				}
			}

			

			hidden_effect = {
				every_country = {
					limit = {
						original_tag = SPS
						NOT = { has_government = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}
					POR = {
						add_ai_strategy = {
							type = declare_war
							id = PREV
							value = 100
						}
					}
				}
			}
		}
	}


	#Focus for Integrate Our Old Land
	focus = {
		id = POR_integrate_our_old_land
		icon = GFX_goal_generic_intelligence_exchange
		x = 26
		y = 9
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_disavow_the_treaty_of_badajoz }
		search_filters = { FOCUS_FILTER_MANPOWER } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Commit To The Spanish Civil War
	focus = {
		id = POR_commit_to_the_spanish_civil_war
		icon = GFX_goal_anschluss
		x = 28
		y = 8
		cost = 10
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_support_the_carlists 
			focus = POR_support_the_nationalists 
		}
		mutually_exclusive = { focus = POR_disavow_the_treaty_of_badajoz }
		search_filters = { FOCUS_FILTER_SPA_CIVIL_WAR } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Lessons From The Spanish Civil War
	focus = {
		id = POR_lessons_from_the_spanish_civil_war
		icon = GFX_goal_generic_position_armies
		x = 28
		y = 9
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_commit_to_the_spanish_civil_war }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_observation_mission
			    bonus = 1.0
			    uses = 1
			    category = land_doctrine
			}
			add_tech_bonus = {
				name = POR_observation_mission
			    bonus = 1.0
			    uses = 1
			    category = air_doctrine
			}
			add_tech_bonus = {
				name = POR_observation_mission
			    bonus = 1.0
			    uses = 1
			    category = light_air
			}
			add_tech_bonus = {
				name = POR_observation_mission
			    bonus = 1.0
			    uses = 1
			    category = cat_light_armor
			}
			army_experience = 20
			air_experience = 20
		}
	}


	#France amd political paths


	#Focus for Confirm Our French Alliance
	focus = {
		id = POR_confirm_our_french_alliance
		icon = GFX_focus_chi_reach_out_to_france
		x = 26
		y = 1
		cost = 5
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Join The French Faction
	focus = {
		id = POR_join_the_french_faction
		available = {
			is_subject = no
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				is_in_faction = yes
			}
		}

		bypass = {
			OR = {
				is_in_faction = yes
				FRA = {
					exists = no
				}
				FRA = {
					is_subject = yes
				}
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		icon = GFX_focus_fra_french_union
		x = 23
		y = 2
		cost = 1
		available_if_capitulated = yes
		prerequisite = { focus = POR_confirm_our_french_alliance }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		}
	}


	#Focus for Reclaim Stolen Land
	focus = {
		id = POR_reclaim_stolen_land
		icon = GFX_focus_por_the_pink_map
		available = {
			OR = {
				ENG = {
					has_war_with = ROOT
				}
				MAL = {
					has_war_with = ROOT
				}
				INS = {
					has_war_with = ROOT
				}
			}
		}
		x = 23
		y = 3
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_join_the_french_faction }
		search_filters = { FOCUS_FILTER_ANNEXATION } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_state_claim = 770 #Malawi
			add_state_claim = 545 #Rhodesia
			add_state_claim = 771 #Zambia
			add_state_claim = 336 # Singapore
			add_state_claim = 667 # Lesser Sunda
		}
	}


	#Focus for Proclaim The Fifth Empire!
	focus = {
		id = POR_proclaim_the_fifth_empire
		icon = GFX_focus_por_remember_olivenca
		x = 23
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_reclaim_stolen_land }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			set_cosmetic_tag = POR_empire
		}
	}


	#Focus for Coordination With French Universities
	focus = {
		id = POR_coordination_with_french_universities
		icon = GFX_goal_tfv_generic_tech_sharing
		x = 26
		y = 2
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_confirm_our_french_alliance }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Hire Bruay
	focus = {
		id = POR_hire_bruay
		icon = GFX_focus_generic_tungsten
		x = 26
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_coordination_with_french_universities }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
	}

	#Focus for French Guns
	focus = {
		id = POR_french_guns
		icon = GFX_goal_generic_military_sphere
		x = 26
		y = 4
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_hire_bruay }
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Crack Down On Syndicalists
	focus = {
		id = POR_crack_down_on_syndicalists
		icon = GFX_focus_por_the_kingdom_reunited
		x = 31
		y = 2
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_confirm_our_french_alliance }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for A True Constitutional Monarchy
	focus = {
		id = POR_a_true_constitutional_monarchy
		icon = GFX_focus_por_the_fifth_empire
		x = 29
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_crack_down_on_syndicalists }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Hunt Down Guerrillas
	focus = {
		id = POR_hunt_down_guerrillas
		icon = GFX_goal_generic_small_arms
		x = 29
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_a_true_constitutional_monarchy }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Cut Government Spending
	focus = {
		id = POR_cut_government_spending
		icon = GFX_focus_renounce_the_treaty_of_trianon
		x = 33
		y = 3
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_crack_down_on_syndicalists }
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = POR_cut_government_spending
		}
	}


	#Focus for Increase Gold Reserves
	focus = {
		id = POR_increase_gold_reserves
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 33
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_cut_government_spending }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			add_ideas = POR_national_gold_reserves
			FRA = {
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade
				}
			}
			AUS = {
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade
				}
			}
			every_other_country = {
				limit = {
					NOT = { tag = FRA }
					NOT = { tag = AUS }
					OR = {
						is_in_faction_with = FRA
						is_in_faction_with = AUS
					}
				}
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade_minor
				}
			}
		}
	}


	#Focus for For King And Country!
	focus = {
		id = POR_for_king_and_country
		icon = GFX_focus_generic_monarchy_2
		x = 31
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_hunt_down_guerrillas 
		}
		prerequisite = { 
			focus = POR_increase_gold_reserves 
		}
		search_filters = { FOCUS_FILTER_MANPOWER } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for An End To The Unrest
	focus = {
		id = POR_an_end_to_the_unrest
		icon = GFX_focus_generic_treaty
		x = 31
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_for_king_and_country }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
	}
	

	#Navy Memes France - better naval tree than russia


	#Focus for The Continental System
	focus = {
		id = POR_the_continental_system
		icon = GFX_focus_fra_le_deluge
		x = 36
		y = 2
		cost = 10
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_confirm_our_french_alliance 
		}
		prerequisite = { 
			focus = POR_rebuilding_our_navy 
		}
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for War From Under The Sea
	focus = {
		id = POR_war_from_under_the_sea
		icon = GFX_goal_generic_navy_submarine
		x = 36
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_the_continental_system }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
	}

	#Focus for Contact French Shipbuilders
	focus = {
		id = POR_contact_french_shipbuilders
		icon = GFX_goal_generic_major_alliance
		x = 36
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_war_from_under_the_sea }
		ai_will_do = {
			factor = 1
		}
	}

	#Focus for French Battlecruiser Scheme
	focus = {
		id = POR_french_battlecruiser_scheme
		icon = GFX_focus_generic_navy_battleship2
		x = 36
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_contact_french_shipbuilders }
		ai_will_do = {
			factor = 1
		}
	}


	#Naval Memes Main

	#Focus for Rebuilding Our Navy
	focus = {
		id = POR_rebuilding_our_navy
		icon = GFX_goal_generic_build_navy
		x = 39
		y = 1
		cost = 10
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard		
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			unlock_decision_tooltip = POR_buy_ships_italy	
		}
	}

	#Focus for Atlantic Defense Strategy
	focus = {
		id = POR_atlantic_defense_strategy
		icon = GFX_focus_generic_destroyer
		available = {
			OR = {
				has_full_control_of_state = 698
				has_full_control_of_state = 697
				has_full_control_of_state = 702
			}			
		}
		x = 39
		y = 2
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_rebuilding_our_navy }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 698 }
				698 = { #Azores
					add_building_construction = {
						type = coastal_bunker		
						level = 2
						province = 1751
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 697 }
				697 = { #Madeira
					add_building_construction = {
						type = coastal_bunker		
						level = 1
						province = 3118
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 702 }
				702 = { #Cape Verde
					add_building_construction = {
						type = coastal_bunker		
						level = 1
						province = 13014
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}			
		}
	}


	#Focus for Blockade Runners
	focus = {
		id = POR_blockade_runners
		icon = GFX_goal_generic_navy_cruiser
		x = 39
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_atlantic_defense_strategy }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = { #Beja
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = POR_a_powerful_merchant_marine
			    bonus = 1.0
			    uses = 1
			    category = dd_tech			   
			}
			add_ideas = POR_convoy_build_efficiency
		}
	}

	#Focus for Protect The Merchant Marine
	focus = {
		id = POR_protect_the_merchant_marine
		icon = GFX_goal_generic_occupy_states_coastal
		x = 39
		y = 4
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_blockade_runners }
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_merchant_marine_protection
			    bonus = 1.0
			    uses = 2
			    category = dd_tech			   
			}

			if = {
		    	limit = {
		    		has_dlc = "Man the Guns"		    		
		    	}
		    	add_tech_bonus = {
		    		name = POR_merchant_marine_protection
				    bonus = 1.0
				    uses = 2
				    category = asw_tech		   
				}
		    }
		    if = {
				limit = { has_full_control_of_state = 179 }
				179 = { #Beja
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}						
		}
	}


	#Focus for Construct More Dockyards
	focus = {
		id = POR_construct_more_dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 39
		y = 5
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_protect_the_merchant_marine }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { #Lisbon
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard		
						level = 4
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
			}
		}
	}


	#Focus for Arsenal do Alfeite
	focus = {
		id = POR_arsenal_do_alfeite
		icon = GFX_goal_generic_navy_cruiser
		x = 39
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_construct_more_dockyards
		}
		prerequisite = { 
			focus = POR_french_battlecruiser_scheme
			focus = POR_naval_aviation
		}
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_arsenal_do_alfeite
			    bonus = 1.0
			    uses = 1
			    category = ca_tech	   
			}
			add_tech_bonus = {
				name = POR_arsenal_do_alfeite
			    bonus = 1.0
			    uses = 1
			    category = cl_tech	   
			}

			112 = { #Lisbon
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard		
					level = 3
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base		
					level = 2
					instant_build = yes
				}
			}
		}
	}

	#Naval Memes British aka better tree than anyone else

	#Focus for The European Outpost
	focus = {
		id = POR_the_european_outpost
		icon = GFX_focus_eng_the_sun_never_sets
		x = 42
		y = 2
		cost = 5
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_rebuilding_our_navy 
		}
		prerequisite = { 
			focus = POR_join_the_british 
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		unlock_decision_tooltip = POR_buy_ships_britain
		}
	}


	#Focus for Screens For The Fleet
	focus = {
		id = POR_screens_for_the_fleet
		icon = GFX_goal_generic_navy_anti_submarine
		x = 42
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_the_european_outpost }
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Purchase From The Global Market
	focus = {
		id = POR_purchase_from_the_global_market
		icon = GFX_focus_generic_cruiser2
		x = 42
		y = 4
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_screens_for_the_fleet }
		ai_will_do = {
			factor = 1
		}
	}

	#Focus for Naval Aviation
	focus = {
		id = POR_naval_aviation
		icon = GFX_goal_generic_navy_carrier
		x = 42
		y = 5
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_purchase_from_the_global_market }
		ai_will_do = {
			factor = 1
		}
	}


	#British Tree

	

	#Focus for Join The British
	focus = {
		available = {
			is_in_faction = no
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = POR
				}
			}			
		}
		bypass = {	
			OR = {
				is_in_faction_with = ENG
				AND = {
					is_in_faction = yes
					any_other_country = {
						is_faction_leader = yes
						is_in_faction_with = ROOT
					}
				}
			}	
		}
		id = POR_join_the_british
		icon = GFX_focus_chi_british_cooperation
		x = 52
		y = 1
		cost = 5
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			if = {
				limit = { 
					ENG = {
						is_faction_leader = yes
						has_government = democratic
						not = { has_war_with = ROOT }
					}
				}
				ENG = { country_event = { id = generic.2 hours = 4 } }
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = { id = generic.2 hours = 4 }
				}
			}
		}
	}


	#Focus for Estado Novo Coup
	focus = {
		id = POR_estado_novo_coup
		icon = GFX_focus_por_estado_novo
		x = 47
		y = 2
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_join_the_british }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 	
			add_ideas = POR_estado_novo
			add_political_power = 100
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = POR_julio_botelho_moniz
		}
	}


	#Focus for Catholic Corporatism
	focus = {
		id = POR_catholic_corporatism
		icon = GFX_focus_generic_military_academy
		x = 45
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_estado_novo_coup }
		ai_will_do = {
			factor = 1
		}
		completion_reward = (
			add_political_power = 120
			add_popularity = {
			    ideology = neutrality
				popularity = 0.05
			}
			swap_ideas = {
				remove_idea = POR_estado_novo
				add_idea = POR_estado_novo_2
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_manuel_goncalves_cerejeira
		}
	}


	#Focus for Autarky
	focus = {
		id = POR_autarky
		icon = GFX_focus_generic_self_management
		x = 45
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_catholic_corporatism }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_political_power = 70
			swap_ideas = {
				remove_idea = POR_estado_novo_2
				add_idea = POR_estado_novo_3
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = POR_joao_de_azevedo_coutinho
			show_ideas_tooltip = POR_joao_francisco_de_barbosa_azevedo
		}
	}


	#Focus for Exile Monarchists
	focus = {
		id = POR_exile_monarchists
		icon = GFX_focus_rom_abdicate
		x = 49
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_estado_novo_coup }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
	}

	#Focus for Purge The Old Government
	focus = {
		id = POR_purge_the_old_government
		icon = GFX_goal_tfv_sever_ties_with_uk
		x = 49
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_exile_monarchists }
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
	}
	
		#Focus for Formalize The Salazar Cabinet
	focus = {
		id = POR_formalize_the_salazar_cabinet
		icon = GFX_focus_por_salazar
		x = 47
		y = 5
		cost = 5
		available_if_capitulated = yes
		prerequisite = { 
			focus = POR_autarky 
		}
		prerequisite = { 
			focus = POR_purge_the_old_government 
		}
		search_filters = { FOCUS_FILTER_POLITICAL } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = { 
			add_manpower = -3000
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -800
				producer = POR
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -800
				producer = POR
			}
			add_stability = -0.1
			add_popularity = {
			    ideology = neutrality
				popularity = 0.10
			}
			swap_ideas = {
				remove_idea = POR_estado_novo_3
				add_idea = POR_estado_novo_4	
			}
			custom_effect_tooltip = remove_chief_of_army
			show_ideas_tooltip = POR_rolao_preto
		}
	}
	

	#Focus for Família
	focus = {
		id = POR_famlia
		icon = GFX_goal_tripartite_pact
		x = 49
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_formalize_the_salazar_cabinet }
		search_filters = { FOCUS_FILTER_STABILITY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		add_stability = 0.1
		}
	}


	#Focus for Pátria
	focus = {
		id = POR_ptria
		icon = GFX_goal_generic_national_unity
		x = 47
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_formalize_the_salazar_cabinet }
		search_filters = { FOCUS_FILTER_WAR_SUPPORT } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		add_war_support = 0.1
		}
	}

	#Focus for Deus
	focus = {
		id = POR_deus
		icon = GFX_focus_mex_restore_the_army_of_christ
		x = 45
		y = 6
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_formalize_the_salazar_cabinet }
		search_filters = { FOCUS_FILTER_STABILITY } 
		ai_will_do = {
			factor = 1
		}
	}


	#Focus for Join Commonwealth Research
	focus = {
		available = {
			is_in_faction_with = ENG
		}
		id = POR_join_commonwealth_research
		icon = GFX_goal_tfv_generic_tech_sharing
		x = 52
		y = 2
		cost = 5
		available_if_capitulated = yes
		prerequisite = { focus = POR_join_the_british }
		search_filters = { FOCUS_FILTER_RESEARCH } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
		add_to_tech_sharing_group = commonwealth_research
		}
	}
	

	#Focus for Rio Tinto
	focus = {
		id = POR_rio_tinto
		icon = GFX_focus_generic_steel
		x = 52
		y = 3
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_join_commonwealth_research }
		search_filters = { FOCUS_FILTER_INDUSTRY } 
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_ideas = POR_rio_tinto
		}
	}


	#Focus for British and Swedish Artillery
	focus = {
		id = POR_british_and_swedish_artillery
		icon = GFX_goal_generic_army_artillery2
		x = 52
		y = 4
		cost = 10
		available_if_capitulated = yes
		prerequisite = { focus = POR_rio_tinto }
		ai_will_do = {
			factor = 1
		}
	}


#End of focuses 
 }